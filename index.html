<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–≥—Ä–∞ —Å —Ü–≤–µ—Ç–∞–º–∏ 4x4</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #18181b;
            color: white;
        }
        .board {
            display: grid;
            grid-template-columns: repeat(4, 80px);
            grid-template-rows: repeat(4, 80px);
            gap: 5px;
            border: 2px solid white;
            padding: 10px;
            border-radius: 10px;
            background-image: url('2/22.png'); /* –§–æ–Ω–æ–≤–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞ –¥–ª—è –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è */
            background-size: cover; /* –ó–∞—Å—Ç–∞–≤–ª—è–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É –∑–∞–Ω–∏–º–∞—Ç—å –≤—Å—é –ø–ª–æ—â–∞–¥—å */
        }
        .cell {
            width: 80px;
            height: 80px;
            background-color: #292929; /* –ò—Å—Ö–æ–¥–Ω—ã–π —Ü–≤–µ—Ç —Ñ–æ–Ω–∞ —è—á–µ–π–∫–∏ */
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            border-radius: 5px;
            position: relative;
            transition: background-color 0.3s;
            border: 2px solid rgba(255, 255, 255, 0.5); /* –ì—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è —è—á–µ–µ–∫ */
        }
        .hidden {
            background-color: #292929; /* –°–∫—Ä—ã—Ç—ã–π —Ü–≤–µ—Ç —è—á–µ–π–∫–∏ */
        }
        .matched {
            visibility: hidden; /* –°–∫—Ä—ã–≤–∞–µ–º —Å–æ–≤–ø–∞–≤—à–∏–µ —è—á–µ–π–∫–∏ */
        }
    </style>
</head>
<body>

    <div class="board" id="board"></div>

 <script>
        const colors = [
            '#ff5733', '#33ff57', '#3357ff', '#f1c40f',
            '#8e44ad', '#e67e22', '#e74c3c', '#2ecc71'
        ];

        let board = [];
        let firstCell = null;
        let secondCell = null;
        let matchedPairs = 0; // –°—á–µ—Ç—á–∏–∫ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
        const totalPairs = colors.length; // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–∞—Ä
        let isChecking = false; // –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–ª–∏–∫–æ–≤

        function createBoard() {
            const randomizedColors = [...colors, ...colors];
            const shuffledColors = randomizedColors.sort(() => 0.5 - Math.random());

            for (let i = 0; i < 16; i++) {
                const cell = document.createElement('div');
                cell.classList.add('cell', 'hidden');
                cell.dataset.color = shuffledColors[i];

                cell.addEventListener('click', () => handleCellClick(cell));
                board.push(cell);
                document.getElementById('board').appendChild(cell);
            }
        }

        function handleCellClick(cell) {
            if (cell.classList.contains('hidden') && !isChecking) {
                cell.style.backgroundColor = cell.dataset.color; // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –Ω–∞ —Ü–≤–µ—Ç —è—á–µ–π–∫–∏
                cell.classList.remove('hidden');

                if (!firstCell) {
                    firstCell = cell;
                } else {
                    secondCell = cell;
                    checkMatch();
                }
            }
        }

        function checkMatch() {
            isChecking = true; // –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–ª–∏–∫–∏

            if (firstCell.dataset.color === secondCell.dataset.color) {
                setTimeout(() => {
                    firstCell.classList.add('matched');
                    secondCell.classList.add('matched');
                    matchedPairs++;
                    firstCell = null;
                    secondCell = null;

                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ª–∏ –∏–≥—Ä–∞
                    if (matchedPairs === totalPairs) {
                        alert("–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, –≤—ã –≤—ã–∏–≥—Ä–∞–ª–∏! üéâ");
                        document.getElementById('victorySound').play(); // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ –ø–æ–±–µ–¥—ã
                    }

                    isChecking = false; // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–ª–∏–∫–∏
                }, 500);
            } else {
                setTimeout(() => {
                    firstCell.style.backgroundColor = '#292929';
                    secondCell.style.backgroundColor = '#292929';
                    firstCell.classList.add('hidden');
                    secondCell.classList.add('hidden');
                    firstCell = null;
                    secondCell = null;
                    isChecking = false; // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–ª–∏–∫–∏
                }, 1000);
            }
        }


        function startTimer() {
    timer = setInterval(() => {
        timeLeft--;
        document.getElementById('time').textContent = timeLeft;

        if (timeLeft <= 0) {
            clearInterval(timer);
            alert("–í—Ä–µ–º—è –≤—ã—à–ª–æ! –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞. ‚è∞");
            showRestartButton(); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
        }
    }, 1000);
}


function showRestartButton() {
    document.getElementById('restartButton').style.display = 'block';
}

document.getElementById('restartButton').addEventListener('click', () => {
    // –°–±—Ä–æ—Å—å—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–≥—Ä—É
    matchedPairs = 0;
    timeLeft = 60;
    document.getElementById('time').textContent = timeLeft;
    board = [];
    firstCell = null;
    secondCell = null;
    isChecking = false;

    // –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ —è—á–µ–π–∫–∏
    document.getElementById('board').innerHTML = '';
    createBoard(); // –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –¥–æ—Å–∫—É
    document.getElementById('restartButton').style.display = 'none'; // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
});
        createBoard();


    </script>
</body>
</html>
